{"ast":null,"code":"var _jsxFileName = \"/Users/claye/dev/sagev2/sf-portfolio/src/components/Layout/Layout.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useLayoutEffect, useContext, useRef } from \"react\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport Head from \"next/head\";\nimport AOS from \"aos\";\nimport Header from \"../Header\";\nimport Footer from \"../Footer\";\nimport ThemeSwitch from \"../ThemeSwitch\";\nimport ModalVideo from \"../ModalVideo\";\nimport ContactModal from \"../ContactModal\";\nimport AboutModal from \"../AboutModal\";\nimport GlobalContext from \"../../context/GlobalContext\";\nimport GlobalStyle from \"../../utils/globalStyle\";\nimport imgFavicon from \"../../assets/favicon.png\";\nimport { get, merge } from \"lodash\"; // the full theme object\n\nimport { theme as baseTheme } from \"../../utils\";\nconst Loader = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background: #fff;\n  z-index: 9999999999;\n  opacity: 1;\n  visibility: visible;\n  transition: all 1s ease-out 0.5s;\n  &.inActive {\n    opacity: 0;\n    visibility: hidden;\n  }\n`; // options for different color modes\n\nconst modes = {\n  light: \"light\",\n  dark: \"dark\"\n}; // merge the color mode with the base theme\n// to create a new theme object\n\nconst getTheme = mode => merge({}, baseTheme, {\n  colors: get(baseTheme.colors.modes, mode, baseTheme.colors)\n});\n\nconst Layout = ({\n  children,\n  pageContext\n}) => {\n  const gContext = useContext(GlobalContext);\n  const {\n    0: visibleLoader,\n    1: setVisibleLoader\n  } = useState(true);\n  useLayoutEffect(() => {\n    AOS.init();\n    setVisibleLoader(false);\n  }, []); // Navbar style based on scroll\n\n  const eleRef = useRef();\n  useEffect(() => {\n    window.addEventListener(\"popstate\", function (event) {\n      // The popstate event is fired each time when the current history entry changes.\n      gContext.closeAbout();\n      gContext.closeContact();\n    }, false);\n    window.addEventListener(\"pushState\", function (event) {\n      // The pushstate event is fired each time when the current history entry changes.\n      gContext.closeAbout();\n      gContext.closeContact();\n    }, false);\n    return () => {};\n  }, [gContext]);\n\n  if (pageContext.layout === \"bare\") {\n    return __jsx(ThemeProvider, {\n      theme: gContext.theme.bodyDark ? getTheme(modes.dark) : getTheme(modes.light),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, __jsx(ThemeSwitch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), __jsx(GlobalStyle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), __jsx(Head, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, \"Sage Flowers - Custom Faux and Silk Flower Arrangements\"), __jsx(\"link\", {\n      rel: \"icon\",\n      type: \"image/png\",\n      href: imgFavicon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    })), __jsx(Loader, {\n      id: \"loading\",\n      className: visibleLoader ? \"\" : \"inActive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, __jsx(\"div\", {\n      className: \"load-circle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, __jsx(\"span\", {\n      className: \"one\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }))), __jsx(\"div\", {\n      className: \"site-wrapper overflow-hidden\",\n      ref: eleRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }\n    }, children), __jsx(ModalVideo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  return __jsx(React.Fragment, null, __jsx(ThemeProvider, {\n    theme: gContext.theme.bodyDark ? getTheme(modes.dark) : getTheme(modes.light),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, __jsx(ThemeSwitch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }), __jsx(GlobalStyle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, \"Sage Flowers - Custom Faux and Silk Flower Arrangements\"), __jsx(\"link\", {\n    rel: \"icon\",\n    type: \"image/png\",\n    href: imgFavicon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  })), __jsx(Loader, {\n    id: \"loading\",\n    className: visibleLoader ? \"\" : \"inActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"load-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: \"one\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }))), __jsx(\"div\", {\n    className: \"site-wrapper overflow-hidden\",\n    ref: eleRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    isDark: gContext.theme.headerDark,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }), children, __jsx(Footer, {\n    isDark: gContext.theme.footerDark,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  })), __jsx(AboutModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }), __jsx(ContactModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }), __jsx(ModalVideo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Layout;","map":{"version":3,"sources":["/Users/claye/dev/sagev2/sf-portfolio/src/components/Layout/Layout.js"],"names":["React","useState","useEffect","useLayoutEffect","useContext","useRef","styled","ThemeProvider","Head","AOS","Header","Footer","ThemeSwitch","ModalVideo","ContactModal","AboutModal","GlobalContext","GlobalStyle","imgFavicon","get","merge","theme","baseTheme","Loader","div","modes","light","dark","getTheme","mode","colors","Layout","children","pageContext","gContext","visibleLoader","setVisibleLoader","init","eleRef","window","addEventListener","event","closeAbout","closeContact","layout","bodyDark","headerDark","footerDark"],"mappings":";;AAAA,OAAOA,KAAP,IACEC,QADF,EAEEC,SAFF,EAGEC,eAHF,EAIEC,UAJF,EAKEC,MALF,QAMO,OANP;AAQA,OAAOC,MAAP,IAAiBC,aAAjB,QAAsC,mBAAtC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AAEA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,OAAOC,WAAP,MAAwB,yBAAxB;AAEA,OAAOC,UAAP,MAAuB,0BAAvB;AAEA,SAASC,GAAT,EAAcC,KAAd,QAA2B,QAA3B,C,CAEA;;AACA,SAASC,KAAK,IAAIC,SAAlB,QAAmC,aAAnC;AAEA,MAAMC,MAAM,GAAGjB,MAAM,CAACkB,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAfA,C,CAiBA;;AACA,MAAMC,KAAK,GAAG;AAAEC,EAAAA,KAAK,EAAE,OAAT;AAAkBC,EAAAA,IAAI,EAAE;AAAxB,CAAd,C,CAEA;AACA;;AACA,MAAMC,QAAQ,GAAIC,IAAD,IACfT,KAAK,CAAC,EAAD,EAAKE,SAAL,EAAgB;AACnBQ,EAAAA,MAAM,EAAEX,GAAG,CAACG,SAAS,CAACQ,MAAV,CAAiBL,KAAlB,EAAyBI,IAAzB,EAA+BP,SAAS,CAACQ,MAAzC;AADQ,CAAhB,CADP;;AAKA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAA+B;AAC5C,QAAMC,QAAQ,GAAG9B,UAAU,CAACY,aAAD,CAA3B;AAEA,QAAM;AAAA,OAACmB,aAAD;AAAA,OAAgBC;AAAhB,MAAoCnC,QAAQ,CAAC,IAAD,CAAlD;AAEAE,EAAAA,eAAe,CAAC,MAAM;AACpBM,IAAAA,GAAG,CAAC4B,IAAJ;AACAD,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,GAHc,EAGZ,EAHY,CAAf,CAL4C,CAU5C;;AACA,QAAME,MAAM,GAAGjC,MAAM,EAArB;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACdqC,IAAAA,MAAM,CAACC,gBAAP,CACE,UADF,EAEE,UAAUC,KAAV,EAAiB;AACf;AACAP,MAAAA,QAAQ,CAACQ,UAAT;AACAR,MAAAA,QAAQ,CAACS,YAAT;AACD,KANH,EAOE,KAPF;AASAJ,IAAAA,MAAM,CAACC,gBAAP,CACE,WADF,EAEE,UAAUC,KAAV,EAAiB;AACf;AACAP,MAAAA,QAAQ,CAACQ,UAAT;AACAR,MAAAA,QAAQ,CAACS,YAAT;AACD,KANH,EAOE,KAPF;AAUA,WAAO,MAAM,CAAE,CAAf;AACD,GArBQ,EAqBN,CAACT,QAAD,CArBM,CAAT;;AAuBA,MAAID,WAAW,CAACW,MAAZ,KAAuB,MAA3B,EAAmC;AACjC,WACE,MAAC,aAAD;AACE,MAAA,KAAK,EACHV,QAAQ,CAACb,KAAT,CAAewB,QAAf,GAA0BjB,QAAQ,CAACH,KAAK,CAACE,IAAP,CAAlC,GAAiDC,QAAQ,CAACH,KAAK,CAACC,KAAP,CAF7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,EAME,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAOE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iEADF,EAEE;AAAM,MAAA,GAAG,EAAC,MAAV;AAAiB,MAAA,IAAI,EAAC,WAAtB;AAAkC,MAAA,IAAI,EAAER,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAPF,EAWE,MAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,SAAX;AAAqB,MAAA,SAAS,EAAEiB,aAAa,GAAG,EAAH,GAAQ,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CAXF,EAgBE;AAAK,MAAA,SAAS,EAAC,8BAAf;AAA8C,MAAA,GAAG,EAAEG,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGN,QADH,CAhBF,EAoBE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MApBF,CADF;AAwBD;;AAED,SACE,4BACE,MAAC,aAAD;AACE,IAAA,KAAK,EACHE,QAAQ,CAACb,KAAT,CAAewB,QAAf,GAA0BjB,QAAQ,CAACH,KAAK,CAACE,IAAP,CAAlC,GAAiDC,QAAQ,CAACH,KAAK,CAACC,KAAP,CAF7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,EAME,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+DADF,EAEE;AAAM,IAAA,GAAG,EAAC,MAAV;AAAiB,IAAA,IAAI,EAAC,WAAtB;AAAkC,IAAA,IAAI,EAAER,UAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAPF,EAWE,MAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,SAAX;AAAqB,IAAA,SAAS,EAAEiB,aAAa,GAAG,EAAH,GAAQ,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,SAAS,EAAC,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAXF,EAgBE;AAAK,IAAA,SAAS,EAAC,8BAAf;AAA8C,IAAA,GAAG,EAAEG,MAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAEJ,QAAQ,CAACb,KAAT,CAAeyB,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGd,QAFH,EAIE,MAAC,MAAD;AAAQ,IAAA,MAAM,EAAEE,QAAQ,CAACb,KAAT,CAAe0B,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CAhBF,EAsBE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,EAuBE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,EAwBE,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,CADF,CADF;AA8BD,CA7FD;;AA+FA,eAAehB,MAAf","sourcesContent":["import React, {\r\n  useState,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\n\r\nimport styled, { ThemeProvider } from \"styled-components\";\r\nimport Head from \"next/head\";\r\nimport AOS from \"aos\";\r\n\r\nimport Header from \"../Header\";\r\nimport Footer from \"../Footer\";\r\nimport ThemeSwitch from \"../ThemeSwitch\";\r\n\r\nimport ModalVideo from \"../ModalVideo\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport AboutModal from \"../AboutModal\";\r\n\r\nimport GlobalContext from \"../../context/GlobalContext\";\r\n\r\nimport GlobalStyle from \"../../utils/globalStyle\";\r\n\r\nimport imgFavicon from \"../../assets/favicon.png\";\r\n\r\nimport { get, merge } from \"lodash\";\r\n\r\n// the full theme object\r\nimport { theme as baseTheme } from \"../../utils\";\r\n\r\nconst Loader = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: #fff;\r\n  z-index: 9999999999;\r\n  opacity: 1;\r\n  visibility: visible;\r\n  transition: all 1s ease-out 0.5s;\r\n  &.inActive {\r\n    opacity: 0;\r\n    visibility: hidden;\r\n  }\r\n`;\r\n\r\n// options for different color modes\r\nconst modes = { light: \"light\", dark: \"dark\" };\r\n\r\n// merge the color mode with the base theme\r\n// to create a new theme object\r\nconst getTheme = (mode) =>\r\n  merge({}, baseTheme, {\r\n    colors: get(baseTheme.colors.modes, mode, baseTheme.colors),\r\n  });\r\n\r\nconst Layout = ({ children, pageContext }) => {\r\n  const gContext = useContext(GlobalContext);\r\n\r\n  const [visibleLoader, setVisibleLoader] = useState(true);\r\n\r\n  useLayoutEffect(() => {\r\n    AOS.init();\r\n    setVisibleLoader(false);\r\n  }, []);\r\n\r\n  // Navbar style based on scroll\r\n  const eleRef = useRef();\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\r\n      \"popstate\",\r\n      function (event) {\r\n        // The popstate event is fired each time when the current history entry changes.\r\n        gContext.closeAbout();\r\n        gContext.closeContact();\r\n      },\r\n      false\r\n    );\r\n    window.addEventListener(\r\n      \"pushState\",\r\n      function (event) {\r\n        // The pushstate event is fired each time when the current history entry changes.\r\n        gContext.closeAbout();\r\n        gContext.closeContact();\r\n      },\r\n      false\r\n    );\r\n\r\n    return () => {};\r\n  }, [gContext]);\r\n\r\n  if (pageContext.layout === \"bare\") {\r\n    return (\r\n      <ThemeProvider\r\n        theme={\r\n          gContext.theme.bodyDark ? getTheme(modes.dark) : getTheme(modes.light)\r\n        }\r\n      >\r\n        <ThemeSwitch />\r\n        <GlobalStyle />\r\n        <Head>\r\n          <title>Sage Flowers - Custom Faux and Silk Flower Arrangements</title>\r\n          <link rel=\"icon\" type=\"image/png\" href={imgFavicon} />\r\n        </Head>\r\n        <Loader id=\"loading\" className={visibleLoader ? \"\" : \"inActive\"}>\r\n          <div className=\"load-circle\">\r\n            <span className=\"one\"></span>\r\n          </div>\r\n        </Loader>\r\n        <div className=\"site-wrapper overflow-hidden\" ref={eleRef}>\r\n          {children}\r\n        </div>\r\n\r\n        <ModalVideo />\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ThemeProvider\r\n        theme={\r\n          gContext.theme.bodyDark ? getTheme(modes.dark) : getTheme(modes.light)\r\n        }\r\n      >\r\n        <ThemeSwitch />\r\n        <GlobalStyle />\r\n        <Head>\r\n          <title>Sage Flowers - Custom Faux and Silk Flower Arrangements</title>\r\n          <link rel=\"icon\" type=\"image/png\" href={imgFavicon} />\r\n        </Head>\r\n        <Loader id=\"loading\" className={visibleLoader ? \"\" : \"inActive\"}>\r\n          <div className=\"load-circle\">\r\n            <span className=\"one\"></span>\r\n          </div>\r\n        </Loader>\r\n        <div className=\"site-wrapper overflow-hidden\" ref={eleRef}>\r\n          <Header isDark={gContext.theme.headerDark} />\r\n          {children}\r\n\r\n          <Footer isDark={gContext.theme.footerDark} />\r\n        </div>\r\n        <AboutModal />\r\n        <ContactModal />\r\n        <ModalVideo />\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"]},"metadata":{},"sourceType":"module"}